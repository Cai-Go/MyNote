# 变量的解构赋值

## 数组的解构赋值
ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，被称为解构。

## 默认值
ES6 内部使用严格相等运算符（===），判断一个位置是否有值。所以，只有当一个数组成员严格等于undefined，默认值才会生效。
如果默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到的时候，才会求值。

## 对象的解构赋值
对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。

解构赋值的规则是，只要等号右边的值不是对象或数组，就先将其转为对象。由于undefined和null无法转为对象，所以对它们进行解构赋值，都会报错。

## 不能使用圆括号的情况

1. 变量声明语句
````js
	// 全部报错
	let [(a)] = [1];

	let {x: (c)} = {};
	let ({x: c}) = {};
	let {(x: c)} = {};
	let {(x): c} = {};

	let { o: ({ p: p }) } = { o: { p: 2 } };
````
它们都是变量声明语句，模式不能使用圆括号。

2. 函数参数
函数参数也属于变量声明，因此不能带有圆括号。
````js
	// 报错
	function f([(z)]) { return z; }
	// 报错
	function f([z,(x)]) { return x; }
````

3. 赋值语句的模式
````js
	// 全部报错
	({ p: a }) = { p: 42 };
	([a]) = [5];
````

## 可以使用圆括号的情况
可以使用圆括号的情况只有一种：赋值语句的非模式部分，可以使用圆括号。
````js
	[(b)] = [3]; // 正确
	({ p: (d) } = {}); // 正确
	[(parseInt.prop)] = [3]; // 正确
````

## 用途
1. 交换变量的值；
2. 从函数返回多个值；
3. 函数参数的定义；
4. 提取 JSON 数据；
5. 函数参数的默认值；
6. 遍历 Map 结构。
7. 输入模块的指定方法。